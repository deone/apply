{% extends 'ashesiundergraduate/index.html' %}

{% block page_js %}
<script>
  $(function() {

    $('.dependence').hide();

    $('#id_living_with').change(function() {
      var selectedOption = $(this).find(':selected').text();
      if (selectedOption.indexOf('orphanage') !== -1) {
        $('.dependence').fadeIn();
      }
    });

  });
</script>
{% endblock %}

{% block application_form %}
<div class="row">
  <form action="" method="post" class="form-horizontal mid width-90">

    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="form-group">
      {{ form.address.errors }}
      <label for="{{ form.address.id_for_label }}" class="col-sm-3 control-label">{{ form.address.label }}</label>
      <div class="col-sm-9">
        {{ form.address }}
      </div>
    </div>

    <div class="form-group">
      {{ form.town.errors }}
      <label for="{{ form.town.id_for_label }}" class="col-sm-3 control-label">{{ form.town.label }}</label>
      <div class="col-sm-9">
        {{ form.town }}
      </div>
    </div>

    <div class="form-group">
      {{ form.state.errors }}
      <label for="{{ form.state.id_for_label }}" class="col-sm-3 control-label">{{ form.state.label }}</label>
      <div class="col-sm-9">
        {{ form.state }}
      </div>
    </div>

    <div class="form-group">
      {{ form.country.errors }}
      <label for="{{ form.country.id_for_label }}" class="col-sm-3 control-label">{{ form.country.label }}</label>
      <div class="col-sm-9">
        {{ form.country }}
      </div>
    </div>

    <div class="form-group">
      {{ form.living_with.errors }}
      <label for="{{ form.living_with.id_for_label }}" class="col-sm-3 control-label">{{ form.living_with.label }}</label>
      <div class="col-sm-9">
        {{ form.living_with }}
      </div>
    </div>

    <div class="dependence">

      <div class="form-group">
        {{ dependence.name.errors }}
        <label for="{{ dependence.name.id_for_label }}" class="col-sm-3 control-label">{{ dependence.name.label }}</label>
        <div class="col-sm-9">
          {{ dependence.name }}
        </div>
      </div>

      <div class="form-group">
        {{ dependence.contact_person_name.errors }}
        <label for="{{ dependence.contact_person_name.id_for_label }}" class="col-sm-3 control-label">{{ dependence.contact_person_name.label }}</label>
        <div class="col-sm-9">
          {{ dependence.contact_person_name }}
        </div>
      </div>

      <div class="form-group">
        {{ dependence.contact_person_title.errors }}
        <label for="{{ dependence.contact_person_title.id_for_label }}" class="col-sm-3 control-label">{{ dependence.contact_person_title.label }}</label>
        <div class="col-sm-9">
          {{ dependence.contact_person_title }}
        </div>
      </div>

      <div class="form-group">
        {{ dependence.contact_person_phone_number.errors }}
        <label for="{{ dependence.contact_person_phone_number.id_for_label }}" class="col-sm-3 control-label">
          {{ dependence.contact_person_phone_number.label }}
        </label>
        <div class="col-sm-9">
          {{ dependence.contact_person_phone_number }}
        </div>
      </div>

      <div class="form-group">
        {{ dependence.contact_person_email.errors }}
        <label for="{{ dependence.contact_person_email.id_for_label }}" class="col-sm-3 control-label">{{ dependence.contact_person_email.label }}</label>
        <div class="col-sm-9">
          {{ dependence.contact_person_email }}
        </div>
      </div>

    </div>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>

  </form>
</div>
{% endblock %}
